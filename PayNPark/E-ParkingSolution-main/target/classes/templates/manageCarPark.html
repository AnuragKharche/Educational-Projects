<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<link href="/css/style.css" rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>

<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

<head>
  <meta charset="UTF-8">
  <title>Manage Car Parks</title>
</head>
<!--The nav bar-->
<nav class="navbar navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="/indexParkingOwner">
      <img src="/images/logo.png" alt="Logo" width="30" height="24" class="d-inline-block align-text-top">
      E-Parking Solution
    </a>
    <ul class="nav justify-content-end">
      <li class="nav-item">
        <a class="nav-link" href="/indexParkingOwner" style="color: darkgrey">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house" viewBox="0 0 16 16">
            <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5ZM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5 5 5Z"/>
          </svg>
          Home</a>
      </li>
      <li class="nav-item">
        <a class="nav-link active" aria-current="page" href="/manageCarPark" style="color: white">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-p-square" viewBox="0 0 16 16">
            <path d="M5.5 4.002h2.962C10.045 4.002 11 5.104 11 6.586c0 1.494-.967 2.578-2.55 2.578H6.784V12H5.5V4.002Zm2.77 4.072c.893 0 1.419-.545 1.419-1.488s-.526-1.482-1.42-1.482H6.778v2.97H8.27Z"/>
            <path d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2Zm15 0a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2Z"/>
          </svg>
          My Car Parks</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/parkingOwnerBookings" style="color: darkgrey">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-journal-text" viewBox="0 0 16 16">
            <path d="M5 10.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5zm0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"/>
            <path d="M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2z"/>
            <path d="M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1z"/>
          </svg>
          View Bookings</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/parkingOwnerStatistics" style="color: darkgrey">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bar-chart-line" viewBox="0 0 16 16">
            <path d="M11 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h1V7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7h1V2zm1 12h2V2h-2v12zm-3 0V7H7v7h2zm-5 0v-3H2v3h2z"/>
          </svg>
          Statistics</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/parkingOwnerInbox" style="color: darkgrey">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-inbox" viewBox="0 0 16 16">
            <path d="M4.98 4a.5.5 0 0 0-.39.188L1.54 8H6a.5.5 0 0 1 .5.5 1.5 1.5 0 1 0 3 0A.5.5 0 0 1 10 8h4.46l-3.05-3.812A.5.5 0 0 0 11.02 4H4.98zm9.954 5H10.45a2.5 2.5 0 0 1-4.9 0H1.066l.32 2.562a.5.5 0 0 0 .497.438h12.234a.5.5 0 0 0 .496-.438L14.933 9zM3.809 3.563A1.5 1.5 0 0 1 4.981 3h6.038a1.5 1.5 0 0 1 1.172.563l3.7 4.625a.5.5 0 0 1 .105.374l-.39 3.124A1.5 1.5 0 0 1 14.117 13H1.883a1.5 1.5 0 0 1-1.489-1.314l-.39-3.124a.5.5 0 0 1 .106-.374l3.7-4.625z"/>
          </svg>
          Inbox</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/logout" style="color: darkgrey">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-door-open" viewBox="0 0 16 16">
            <path d="M8.5 10c-.276 0-.5-.448-.5-1s.224-1 .5-1 .5.448.5 1-.224 1-.5 1z"/>
            <path d="M10.828.122A.5.5 0 0 1 11 .5V1h.5A1.5 1.5 0 0 1 13 2.5V15h1.5a.5.5 0 0 1 0 1h-13a.5.5 0 0 1 0-1H3V1.5a.5.5 0 0 1 .43-.495l7-1a.5.5 0 0 1 .398.117zM11.5 2H11v13h1V2.5a.5.5 0 0 0-.5-.5zM4 1.934V15h6V1.077l-6 .857z"/>
          </svg>
          Logout</a>
      </li>
    </ul>
  </div>
</nav>
<body style="Background-color:#8dd5d862">
<br>

<style>


  .container {
    max-width: 1200px;
    margin: 50px auto;
    padding: 20px;
    background-color: #ffffff;
    border: 1px solid #cccccc;
    border-radius: 5px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }

  h1 {
    font-size: 24px;
    color: #333333;
    margin-bottom: 20px;
  }

  table {
    width: 100%;
    border-collapse: collapse;
  }

  th, td {
    padding: 10px;
    text-align: left;
    border-bottom: 1px solid #cccccc;
  }

  th {
    font-size: 18px;
    color: #3498db;
  }

  td {
    font-size: 16px;
    color: #666666;
  }

  tbody tr:hover {
    background-color: #f5f5f5;
    cursor: pointer;
  }

  .btn {
    padding: 10px 15px;
    font-size: 16px;
    border-radius: 5px;
    outline: none;
    transition: background-color 0.2s;
  }

  .btn-primary {
    background-color: #007bff;
    color: #ffffff;
    border: none;
  }

  .btn-danger {
    background-color: #dc3545;
    color: #ffffff;
    border: none;
  }

  .btn:hover {
    cursor: pointer;
  }

  .btn-primary:hover {
    background-color: #0056b3;
  }

  .btn-danger:hover {
    background-color: #c82333;
  }
</style>

<br>
<div class="text-center">
  <a class="btn btn-success d-block mx-auto" style="width: 200px;" th:href="@{'createCarPark'}">Add a new car park</a>
</div>
<br>

<div class="container mt-3">
  <h1>Your Car Parks</h1>
  <table class="table table-hover">
    <thead>
    <tr>
      <th>Car Park Id</th>
      <th>Name</th>
      <th>Address</th>
      <th>Disabled Spaces</th>
      <th></th>
      <th></th>
    </tr>
    </thead>
    <tbody>
    <tr class="view-cp" th:each="carpark : ${listcarpark}" th:attr="data-href=@{/manageParkingSpace/{id_cp}(id_cp=${carpark.id_cp})}">
      <td th:text="${carpark.id_cp}">Parking Space Id</td>
      <td th:text="${carpark.name}">Name</td>
      <td th:text="${carpark.address}">Address</td>
      <td th:text="${carpark.disabledSpaces}">Disabled</td>
      <td>
        <a class="btn btn-primary" th:href="@{'/edit/' + ${carpark.id_cp}}">Edit</a>
      </td>
      <td>
        <a class="btn btn-danger"       th:href="@{'/delete/' + ${carpark.id_cp}}">Delete</a>
      </td>
    </tr>
    </tbody>
  </table>
</div>
<script>
  $(document).ready(function() {
    $('.view-cp').click(function() {
      var url = $(this).data('href');
      window.location.href = url;
    });
  });
</script>



<div class="container mt-3 text-center">
  <div th:if="${totalPages > 1}">
    <p class="text-muted mb-2">Number of Car Parks available: [[${totalItems}]]</p>
    <nav aria-label="Page navigation">
      <ul class="pagination justify-content-center">
        <li class="page-item">
          <a class="page-link" th:if="${currentPage > 1}" th:href="@{'/manageCarPark/page/' + ${currentPage - 1} + '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">Previous</a>
          <span class="page-link" th:unless="${currentPage > 1}">Previous</span>
        </li>
        <li class="page-item" th:if="${currentPage - 1 > 2}">
          <a class="page-link" th:href="@{'/manageCarPark/page/1' + '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">1</a>
        </li>
        <li class="page-item disabled" th:if="${currentPage - 1 > 2}"><span class="page-link">...</span></li>
        <!--/* Generate a sequence of page numbers from (currentPage - 1) to (currentPage + 1) */-->
        <th:block th:each="i : ${#numbers.sequence(0, 2)}">
          <th:block th:with="page=${currentPage - 1 + i}">
            <li class="page-item" th:if="${page > 0 and page <= totalPages}">
              <a class="page-link" th:classappend="${page == currentPage} ? 'active' : ''" th:href="@{'/manageCarPark/page/' + ${page} + '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}" th:text="${page}"></a>
            </li>
          </th:block>
        </th:block>
        <li class="page-item disabled" th:if="${currentPage + 1 < totalPages - 1}"><span class="page-link">...</span></li>
        <li class="page-item" th:if="${currentPage + 1 < totalPages - 1}">
          <a class="page-link" th:href="@{'/manageCarPark/page/' + ${totalPages} + '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">[[${totalPages}]]</a>
        </li>
        <li class="page-item">
          <a class="page-link" th:if="${currentPage < totalPages}" th:href="@{'/manageCarPark/page/' + ${currentPage + 1} + '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">Next</a>
          <span class="page-link" th:unless="${currentPage < totalPages}">Next</span>
        </li>
      </ul>
    </nav>
  </div>
</div>





<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twbs-pagination/1.3.1/jquery.twbsPagination.min.js"></script>
<script type="text/javascript" src="js/style.js"></script>



</body>
</html>